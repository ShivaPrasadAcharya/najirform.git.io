<!DOCTYPE html>
<html>
<head>
  <title>transposeoftoptableonly, color change of input </title>
</head>
<body>
  <form>
    <label for="descriptionBox">Description </label>
    <textarea id="descriptionBox" placeholder="Enter your description here"></textarea><br>
    <label for="h3-input">ID</label>
    <input type="text" id="h3-input"><br>
    <br>
    <label for="h4-input">Prescription</label>
    <input type="text" id="h4-input"><br>
    <label for="h5-input">Ordertext </label>
    <textarea id="h5-input" placeholder="Enter your description here"></textarea>
    <br>
      <button type="button" id="submit-button">Submit</button>
      <button type="button" id="copy-button">Copy to Clipboard</button>
      <button type="button" id="transpose-button">Transpose</button>

  </form>
  <br><br>
  <div id="code">
    <code> 
 &lt;table&gt;&lt;tr&gt;&lt;td&gt;ID&lt;/td&gt;&lt;td&gt;Prescription&lt;/td&gt;&lt;td&gt;Ordertext&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
      </code>
  </div>
  <script>
    const h3Input = document.getElementById("h3-input");
const h3Element = document.getElementById("h3-element");
const h4Input = document.getElementById("h4-input");
const h4Element = document.getElementById("h4-element");
const h5Input = document.getElementById("h5-input");
const h5Element = document.getElementById("h5-element");
const generateButton = document.getElementById("submit-button");
const copyButton = document.getElementById("copy-button");
generateButton.addEventListener("click", () => {
  const codeElement = document.getElementById("code");
  codeElement.innerHTML = `<code>  &lt;table&gt;&lt;tr&gt;&lt;td&gt;${h3Input.value}&lt;/td&gt;&lt;td&gt;${h4Input.value}&lt;/td&gt;&lt;td&gt;${h5Input.value}&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; 
</code>`;
});
copyButton.addEventListener("click", () => {
      const codeElement = document.getElementById("code");
      const text = codeElement.innerText;
      navigator.clipboard.writeText(text);
      alert("Copied to clipboard!");
    });
h3Input.addEventListener("input", () => {
  const parkingSection = document.getElementById("parkingsection");
  const rows = parkingSection.getElementsByTagName("tr");
  let found = false;
  for (let i = 0; i < rows.length; i++) {
    const cells = rows[i].getElementsByTagName("td");
    if (cells[0].innerText === h3Input.value) {
      h4Input.value = cells[1].innerText;
      h5Input.value = cells[2].innerText;
      found = true;
      break;
    }
  }
});
h3Input.addEventListener("input", () => {
  const parkingSection = document.getElementById("parkingsection");
  const rows = parkingSection.getElementsByTagName("tr");
  let found = false;
  for (let i = 0; i < rows.length; i++) {
    const cells = rows[i].getElementsByTagName("td");
    if (cells[0].innerText === h3Input.value) {
      h4Input.value = cells[1].innerText.replace(/\n/g, "&lt;br&gt;");
      h5Input.value = cells[2].innerText.replace(/\n/g, "&lt;br&gt;");
      found = true;
      //h3Input.style.color = "green"; // set text color to green for auto-populated value
      //break;
    }
  }
  if (found) {
  h4Input.style.color = "blue";
  h5Input.style.color = "blue";
} else {
  h4Input.style.color = "red";
  h5Input.style.color = "red";
}
});
h4Input.addEventListener("keydown", (event) => {
  if (event.key === "Enter") {
    event.preventDefault();
    const cursorPosition = h4Input.selectionStart;
    h4Input.value =
      h4Input.value.substring(0, cursorPosition) +
      "&lt;br&gt;"+
      h4Input.value.substring(cursorPosition);
  }
});
h5Input.addEventListener("keydown", (event) => {
  if (event.key === "Enter") {
    event.preventDefault();
    const cursorPosition = h5Input.selectionStart;
    h5Input.value =
      h5Input.value.substring(0, cursorPosition) +
      "&lt;br&gt;" +
      h5Input.value.substring(cursorPosition);
  }
});
const transposeButton = document.getElementById("transpose-button");
transposeButton.addEventListener("click", () => {
  const tableElement = document.querySelector("table");
  const rows = tableElement.getElementsByTagName("tr");
  const numCols = rows[0].getElementsByTagName("td").length;
  const newTable = document.createElement("table");
  for (let j = 0; j < numCols; j++) {
    const newRow = document.createElement("tr");
    for (let i = 0; i < rows.length; i++) {
      const newCell = document.createElement("td");
      newCell.innerText = rows[i].getElementsByTagName("td")[j].innerText;
      newRow.appendChild(newCell);
    }
    newTable.appendChild(newRow);
  }
  tableElement.parentNode.replaceChild(newTable, tableElement);
});

 </script>
 <section id="parkingsection">
  <table><tr><td>005</td><td>abc<br>efg<br>qwerty</td><td>syz<br> sdf <br>werty</td></tr></table>
  <table><tr><td>006</td><td>shiva</td><td>sita<br>ram</td></tr></table>
</section>
</body>
</html>
<!--transpose of top table, color changed of input, auto fill, -->
