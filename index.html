<!DOCTYPE html>
<html>
<head>
  <title>transposeof all table, color not changed, autofill</title>
</head>
<body>
  <form>
    <label for="descriptionBox">Description </label>
    <textarea id="descriptionBox" placeholder="Enter your description here"></textarea><br>
    <label for="h3-input">ID</label>
    <input type="text" id="h3-input"><br>
    <br>
    <label for="h4-input">Prescription</label>
    <input type="text" id="h4-input"><br>
    <label for="h5-input">Ordertext </label>
    <textarea id="h5-input" placeholder="Enter your description here"></textarea>
    <br>
    <button type="button" id="transpose-button">Transpose</button>

    <button type="button" id="hide-button">Hide Rows</button>
    <button type="button" id="copy-button">Copy to Clipboard</button>
      <button type="button" id="submit-button">Submit</button>
  </form>
  <br><br>
  <div id="code">
    <code> 
 &lt;table&gt;&lt;tr&gt;&lt;td&gt;ID&lt;/td&gt;&lt;td&gt;Prescription&lt;/td&gt;&lt;td&gt;Ordertext&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
      </code>
  </div>
  <script>
    const h3Input = document.getElementById("h3-input");
const h3Element = document.getElementById("h3-element");
const h4Input = document.getElementById("h4-input");
const h4Element = document.getElementById("h4-element");
const h5Input = document.getElementById("h5-input");
const h5Element = document.getElementById("h5-element");
const copyButton = document.getElementById("copy-button");
const generateButton = document.getElementById("submit-button");
generateButton.addEventListener("click", () => {
  const codeElement = document.getElementById("code");
  codeElement.innerHTML = `<code>  &lt;table&gt;&lt;tr&gt;&lt;td&gt;${h3Input.value}&lt;/td&gt;&lt;td&gt;${h4Input.value}&lt;/td&gt;&lt;td&gt;${h5Input.value}&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; 
</code>`;

  // Hide all tables except for the one with the matching ID
  const parkingSection = document.getElementById("parkingsection");
  const rows = parkingSection.getElementsByTagName("tr");
  for (let i = 0; i < rows.length; i++) {
    const cells = rows[i].getElementsByTagName("td");
    if (cells[0].innerText === h3Input.value) {
      rows[i].style.display = "table-row";
    } else {
      rows[i].style.display = "none";
    }
  }
});

//aUTOFILL SCRIPT//
h3Input.addEventListener("input", () => {
  const parkingSection = document.getElementById("parkingsection");
  const rows = parkingSection.getElementsByTagName("tr");
  for (let i = 0; i < rows.length; i++) {
    const cells = rows[i].getElementsByTagName("td");
    if (cells[0].innerText === h3Input.value) {
      h4Input.value = cells[1].innerText;
      h5Input.value = cells[2].innerText;
      rows[i].style.display = "table-row";
    } else {
      rows[i].style.display = "none";
    }
  }
});


//Hide//
function hideRows() {
  const parkingSection = document.getElementById("parkingsection");
  const rows = parkingSection.getElementsByTagName("tr");
  for (let i = 0; i < rows.length; i++) {
    const cells = rows[i].getElementsByTagName("td");
    if (cells[0].innerText !== h3Input.value) {
      rows[i].style.display = "none";
    }
  }
}
//copyscript//
copyButton.addEventListener("click", () => {
      const codeElement = document.getElementById("code");
      const text = codeElement.innerText;
      navigator.clipboard.writeText(text);
      alert("Copied to clipboard!");
    });
    const transposeButton = document.getElementById("transpose-button");

transposeButton.addEventListener("click", () => {
  const parkingSection = document.getElementById("parkingsection");
  const rows = parkingSection.getElementsByTagName("tr");
  const cells = rows[0].getElementsByTagName("td");
  const numRows = rows.length;
  const numCols = cells.length;
  const tableData = [];
  
  // Collect table data into a 2D array
  for (let i = 0; i < numRows; i++) {
    const rowCells = rows[i].getElementsByTagName("td");
    const rowData = [];
    for (let j = 0; j < numCols; j++) {
      rowData.push(rowCells[j].innerText);
    }
    tableData.push(rowData);
  }
  
  // Clear table contents
  while (parkingSection.firstChild) {
    parkingSection.removeChild(parkingSection.firstChild);
  }

  // Transpose table data
  const transposedData = [];
  for (let i = 0; i < numCols; i++) {
    const transposedRow = [];
    for (let j = 0; j < numRows; j++) {
      transposedRow.push(tableData[j][i]);
    }
    transposedData.push(transposedRow);
  }

  // Generate new table with transposed data
  const newTable = document.createElement("table");
  for (let i = 0; i < numCols; i++) {
    const newRow = document.createElement("tr");
    for (let j = 0; j < numRows; j++) {
      const newCell = document.createElement("td");
      const newCellText = document.createTextNode(transposedData[i][j]);
      newCell.appendChild(newCellText);
      newRow.appendChild(newCell);
    }
    newTable.appendChild(newRow);
  }

  // Add new table to parking section
  parkingSection.appendChild(newTable);
  
  // Toggle button text
  if (transposeButton.innerText === "Transpose Rows") {
    transposeButton.innerText = "Transpose Columns";
  } else {
    transposeButton.innerText = "Transpose Rows";
  }
});




 </script>
 <section id="parkingsection">
  <table><tr><td>004</td><td>shiva</td><td>good</td></tr></table>
  <table><tr><td>003</td><td>OPMCM et.al</td><td>good done chatgpt</td></tr></table>
  <table><tr><td>002</td><td>debaka</td><td>good girl my wife</td></tr></table>
  <table><tr><td>001</td><td>निवेदक</td><td>123</td></tr></table>

</section>
</body>
</html>
<!--transpose of all tables, auto filled with breaks, bold and underline, format preserved in transpose-->
